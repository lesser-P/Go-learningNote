# 管道

1 管道本质就是一个数据结构-队列\
2 数据是先进先出\
3 自身线程安全，多协程访问时，不需要加锁，channel 本身就是线程安全的\
4 管道有类型的，一个 string 的管道只能存放 string 类型的数据\
5 管道是引用类型，必须初始化才能写入数据，即 make 后才能使用\
6 自身线程安全，多个协程操作同一个管道时，不会发生资源争抢问题

管道关闭，使用内置函数 close 可以关闭管道，当管道关闭后就不能向管道写数据了，但是仍然可以从该管道读取数据

管道可以声明为只读/只写\

```

var intChan1 chan<- int //只写
var intChan2 <-chan int //只读

```

管道的阻塞\
1 当管道只写入数据，没有读取，就会出现阻塞\
2 写得快，读得慢（管道读写频率不一致）不会出现阻塞\

select\
1 select 功能：解决多个管道的选择问题，也可以叫做多路复用，可以从多个管道中随机公平地选择一个来执行\
2 case 后边必须进行 io 操作，不能是等值，随即去选择一个 io 操作
3 default 防止 select 被阻塞住，加入 default
